#include <Arduino.h>

#include "wrench.h"

/*--------------------------------------------------------------------

 This example is an example server implementation for the debugger using
 the same "hello_world" example, 

*/

/**********************************************************************

print( "Hello World!\n" );

for( var i=0; i<10; i++ )       
{
	print( i );
}

***********************************************

to compile:

$ wrench ch -debugsource basic.w basic.h basic

*/


const int basic_bytecodeSize=295;
const unsigned char basic_bytecode[]=
{
	0x00, 0x01, 0x06, 0x57, 0x71, 0x97, 0xFB, 0x11, 0x00, 0x01, 0x00, 0x01, 0x00, 0x3A, 0x3A, 0x67, // 16
	0x6C, 0x6F, 0x62, 0x61, 0x6C, 0x00, 0x3A, 0x3A, 0x69, 0x00, 0xC7, 0x00, 0x00, 0x00, 0x2F, 0x2A, // 32
	0x20, 0x6A, 0x75, 0x73, 0x74, 0x20, 0x61, 0x20, 0x62, 0x61, 0x73, 0x69, 0x63, 0x20, 0x77, 0x72, // 48
	0x65, 0x6E, 0x63, 0x68, 0x20, 0x70, 0x72, 0x6F, 0x67, 0x72, 0x61, 0x6D, 0x20, 0x74, 0x6F, 0x20, // 64
	0x74, 0x65, 0x73, 0x74, 0x20, 0x74, 0x68, 0x65, 0x20, 0x68, 0x65, 0x61, 0x64, 0x65, 0x72, 0x2D, // 80
	0x63, 0x6F, 0x6D, 0x70, 0x69, 0x6C, 0x65, 0x72, 0x20, 0x77, 0x69, 0x74, 0x68, 0x2E, 0x0A, 0x0A, // 96
	0x74, 0x6F, 0x20, 0x63, 0x6F, 0x6D, 0x70, 0x69, 0x6C, 0x65, 0x3A, 0x0A, 0x0A, 0x24, 0x20, 0x77, // 112
	0x72, 0x65, 0x6E, 0x63, 0x68, 0x20, 0x63, 0x68, 0x20, 0x62, 0x61, 0x73, 0x69, 0x63, 0x2E, 0x77, // 128
	0x20, 0x62, 0x61, 0x73, 0x69, 0x63, 0x2E, 0x68, 0x20, 0x62, 0x61, 0x73, 0x69, 0x63, 0x0A, 0x0A, // 144
	0x2A, 0x2F, 0x0A, 0x0A, 0x70, 0x72, 0x69, 0x6E, 0x74, 0x28, 0x20, 0x22, 0x48, 0x65, 0x6C, 0x6C, // 160
	0x6F, 0x20, 0x57, 0x6F, 0x72, 0x6C, 0x64, 0x21, 0x5C, 0x6E, 0x22, 0x20, 0x29, 0x3B, 0x0A, 0x0A, // 176
	0x66, 0x6F, 0x72, 0x28, 0x20, 0x76, 0x61, 0x72, 0x20, 0x69, 0x3D, 0x30, 0x3B, 0x20, 0x69, 0x3C, // 192
	0x31, 0x30, 0x3B, 0x20, 0x69, 0x2B, 0x2B, 0x20, 0x29, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, // 208
	0x0A, 0x7B, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x70, 0x72, 0x69, 0x6E, 0x74, 0x28, 0x20, 0x69, 0x20, // 224
	0x29, 0x3B, 0x0A, 0x7D, 0x0A, 0xF4, 0x09, 0x40, 0x04, 0x0D, 0x00, 0x48, 0x65, 0x6C, 0x6C, 0x6F, // 240
	0x20, 0x57, 0x6F, 0x72, 0x6C, 0x64, 0x21, 0x0A, 0xF4, 0xC5, 0x1D, 0x06, 0x01, 0x88, 0x8A, 0x37, // 256
	0x16, 0xF4, 0x0B, 0x40, 0xCE, 0x00, 0x00, 0xAE, 0x0A, 0x6F, 0x00, 0x15, 0x09, 0xF4, 0x0D, 0x40, // 272
	0x1F, 0x00, 0xF4, 0xC5, 0x1D, 0x06, 0x01, 0x88, 0x8A, 0x37, 0x16, 0x8F, 0x00, 0x36, 0xE9, 0x09, // 288
	0x02, 0xEE, 0x13, 0xE3, 0xC4, 0x1F, 0xD6, // 295
};


void print( WRContext* c, const WRValue* argv, const int argn, WRValue& retVal, void* usr )
{
	char buf[512];
	for( int i=0; i<argn; ++i )
	{
		Serial.print( argv[i].asString(buf, 512) );
	}
}


void setup()
{
	Serial.begin( 115200 );
}

void loop()
{
	
}

